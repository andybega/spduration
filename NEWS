spduration 0.12
---------------

Changes are mostly related to adaptation of the packaged for the C-IED project. 

The function `buildDuration` has been renamed `add_duration`.

NEW FEATURES

* `xtable` method for `spdur` objects to format estimates for export.

* `table` method for `spdur` objects to create a simple data frame containing model parameters estimates. This is useful for combining several model estimates into a larger data frame before exporting via `xtable`. 

ENHANCEMENTS

* Additional optional arguments for `predict.spdur` that control the separation plot formatting, see `?predict.spdur` and `?separationplot::separationplot`.

* Occasionally, the conditional hazard rate values calculated by `predict.spdur` can exceed 1. These are truncated to 1 by default now, controlled through the `truncate` argument.

* Estimates for the base (non-split) duration regression are now saved in the `spdur` model object under `base`. The base regression is used to provide starting values for parameters in the split version of the model.

BUG FIXES

* `predict` will not return a vector instead of matrix with one column.


spduration 0.11
---------------

NEW FEATURES

* Various adaptations for working with daily event data.

* `buildDuration` ongoing option to specify whether successive 1â€™s are treated as ongoing events (NA) or as successive failures. By default they are treated as ongoing spells and excluded from analysis (NA).

* `spdur` will pass optional arguments to `optim`, specifically for setting alternative initial parameter values for the base duration model, which can create issues with sparse data.

* Added silent option for `spdur` to suppress optimization output.

BUG FIXES

* `predict` error when using non-default data.

* `buildDuration` optimization: calculations are now only done on relevant subset of data.

* `summary` and `print.summary` work correctly with constant-only equations.

* `predict` could return NA values when exp(-Xbeta) for lambda exceeds machine precision. Changed it to set minimum value above 0 for extreme values of -Xbeta.


spduration 0.10
---------------

NEW FEATURES

* Forecast plot function `countryplot`. This will plot the series for a particular country, indicating failed and ongoing event time periods, along with an overlay of model predictions.

* New example data for global coups. This is publicly releasable data, unlike the previous demo data used during development.

* Major changes to `spdur`: checks for missing values in the data using `na.action`, and the class object it returns now includes the duration and risk equation model frames used for estimation. The associated methods like `predict` now use the model frames in the returned object for calculations, rather than drawing on objects in the parent frame. This allows the methods for `spdur` to work with the CRISP wrapper `spdurCrisp`.

* `buildDuration` will now accommodate data with daily observations, in addition to 
yearly and monthly data.

* Package documentation/build process using devtools/roxygen2. Instead of separate, manually updated documentation files, this allows one to write the documentation within the R script for a function, and automatically build documentation during the package creation process.

BUG FIXES

* `panelLag` will work correctly with lags greater than 1.

* `buildDuration` will try to convert "tID" to Date format before throwing error. Data
will be returned in the original order, with an option to sort by unit and time.

* `buildDuration` will throw error for data with no failures.

* Renamed wrapper for CRISP to `spdurCrisp` to avoid confusion with methods. Previously it was `spdur.crisp` and `spdur_crisp`.


spduration 0.9
--------------

BUG FIXES

* `spdur` now uses expand.call` instead of `match.call` to capture arguments with default parameters. This could previously cause a problem with other methods that used parameters which were not explicitly specified in the user's function call.

* `predict.spdur` and `forecast.spdur` updated for new likelihood function.


spduration 0.8
--------------

BUG FIXES

* The likelihood functions for the split-weibull have been changed to better calculate the likelihood for time-varying covariates. These were before incorrectly treated as censored observations, leading to increased convergence times and biased coefficient/standard error estimates.

* `buildDuration` would drop events that occurred during the first time period of a series, due to the way that onset was coded, e.g. incidence of (1,0,0,0,1) would become one spell that ends in failure after t=4, rather than two spells, both of which end in failure at t=1 and t=4. This has been fixed, and leading 1's are now considered to be a failure event. 

* Expanded manual for `plot.spdur`, and optional parameters for `predict.spdur` are now correctly passed on.

* Set correct values for `last` and `max.ite`r defaults in `spdur`


spduration 0.7
--------------

BUG FIXES

* `buildDuration` now works with monthly and yearly data, and will stop if any
  key variables are missing values (NA).

* Minor fix in `sploglog`.

spduration 0.6
--------------

NEW FEATURES

* `AIC` and `BIC` methods for assessing models. 

* `logLik`, and `nobs` methods, used in computing AIC and BIC.

* `predict` and `forecast` methods now have more options for which statistic to create,
  as documented in the respective help files.

BUG FIXES

* `spdur.crisp` had incorrect default statistic and problem passing value.

spduration 0.5
--------------

NEW FEATURES

* `spdur.crisp` wrapper the replicates functionality of the original `wicews::spdur`
  and `crisp::spdur` functions.